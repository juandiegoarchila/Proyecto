<%- include('../layouts/Users-Cabecera.ejs') %>

<div class="col-md-4 mx-auto">
  <%- include('../partials/errors.ejs') %>
</div>

<div class="container">
  <form action="/users/profile" method="post" enctype="multipart/form-data">
    <div class="form-group">
      <h1>Actualizar perfil</h1>
    </div>

    <!-- Etiqueta de la imagen de perfil -->
    <label for="profileImage" class="profile-image-label">
      <!-- Agrega un elemento img para mostrar la previsualización -->
      <img class="profile-image" src="<%= profileImageUrl || '/imagenes/avatar.jpg' %>" alt="Perfil de <%= name %>" id="previewImage">
      <!-- Agrega el input de la imagen -->
      <input type="file" name="profileImage" accept="image/*" id="profileImage" style="display:none;" onchange="handleImageChange(this)">
    </label>

    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" name="name" value="<%= name || '' %>" required>
    </div>
    
    <div class="form-group">
      <label for="email">Correo Electrónico:</label>
      <input type="email" name="email" value="<%= email || '' %>" required>
    </div>

    <input type="hidden" name="uid" value="<%= uid %>" readonly>
    <button type="submit">Actualizar</button>
    <a class="btn btn-primary" href="/crud">Volver</a>
  </form>
</div>

<%- include('../layouts/Users-Pie.ejs') %>


